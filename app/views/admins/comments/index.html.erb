<div class="container">
  <%= form_with(scope: nil, controller:"comments", action:"index", method: :get) do |f| %>
    <div class="row pt-3">
      <div class="col-sm-3 col-md-6 col-lg-8"></div>
        <div class="col-sm-9 col-md-6 col-lg-4">
          <div class="d-flex justify-content-end">
            <div class="input-group">
              <%= f.text_field :search, placeholder: "キーワード", class: "form-control", value: params[:search] %>
              <div class="input-group-append">
                <%= f.button class: "btn btn-secondary" do %>
                  <i class="fa fa-search"></i>検索
                <% end %>
              </div>
            </div>
          </div>
        </div>
    </div>
  <% end %>
</div>

<div class="container mt-3">
  <div class="row">
    <div class="col-sm-12 col-md-12 col-lg-12 p-0">
      <h5>コメント一覧</h5>
    </div>
  </div>
</div>
<div class="container pt-2 pb-5">
  <div class="row vertical-table pt-3 m-1">
    <% @comments.each do |comment| %>
      <div class="col-sm-12 col-md-12 col-lg-12 p-2 mb-2 one-table">
        <table border=1 frame="void" rules="none">
          <tbody>
            <tr>
              <td class="col-lg-1 mb-2">ID: <%= comment.id %></td>
              <td class="col-lg-3 mb-1">
                <%= link_to admins_user_path(comment.user.id) do %>
                  <span style="text-decoration: underline;"><%= comment.user.name %></span>
                <% end %>
              </td>
              <td class="col-lg-7 mb-1"><%= simple_format(comment.body) %></td>
              <td class="col-lg-1 mb-1">
                <%= link_to admins_comment_path(comment.id), method: :delete, data: { confirm: '本当に削除しますか？' } do %>
                  <i class="fas fa-trash-alt" style="color: #666e7a;"></i>削除
                <% end %>  
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    <% end %>
  </div>
  <div class="d-flex justify-content-center p-2">
    <%= paginate @comments %>
  </div>
</div>